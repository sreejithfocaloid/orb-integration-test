version: 2.1

orbs:
  foc-orb-test: sreejithfocaloid/foc-orb-test@dev:<<pipeline.git.revision>>
  orb-tools: circleci/orb-tools@11.1

jobs:
  build:
    docker:
      - image: cimg/base:current
        auth:
          username: $DOCKERHUB_USERNAME
          password: $DOCKERHUB_PASSWORD
    steps:
      - checkout
      - setup_remote_docker:
          version: 20.10.14
      # Run your orb's commands to validate them.
      - foc-orb-test/greet:
          imageName: node
      - store_artifacts:
          path: /tmp/artifact-1
          destination: artifact-file

workflows:
  test-deploy:
    jobs:
      # Make sure to include "filters: *filters" in every test job you want to run as part of your deployment.
      - command-tests:
          filters: *filters